import{s as C,a as S}from"./utils-BzEDgM-T.js";document.addEventListener("DOMContentLoaded",()=>{C(),q(),P()});function q(){const n=document.getElementById("product-grid"),u=document.getElementById("product-card-template");for(let e=1;e<=5;e++){const t=u.content.querySelector(".product-card").cloneNode(!0);t.querySelector("img").src="favicon.svg",t.querySelector("p").textContent=`Product ${e}`,n.appendChild(t)}}async function P(){const n=document.location.search,e=new URLSearchParams(n).get("asin");if(e===null){console.error("Failed to load page's main product. Caused by: product asin code not found in url");return}const t=await S(e);if(t===null){console.error("Failed to load page's main product. Caused by: network fetch failed");return}const o=t.product,r=document.querySelector(".main-product"),a=r.querySelector("img");a&&(a.src=o.medium_image_url);const i=r.querySelector(".product-name");i&&(i.textContent=o.title);const s=r.querySelector(".product-price");s&&(s.textContent=o.formatted_price);const l=r.querySelector(".product-asin");l&&(l.textContent=o.asin);const m=r.querySelector(".product-brand");m&&(m.textContent=o.brand);const p=r.querySelector(".product-color");p&&(p.textContent=o.color);const f=t.recommendations,y=document.getElementById("product-grid"),g=document.getElementById("product-card-template");y.innerHTML="";for(const d of f){const c=g.content.querySelector(".product-card").cloneNode(!0);c.href=`product.html?asin=${d.asin}`,c.querySelector("img").src=d.medium_image_url,c.querySelector("p").textContent=d.title,y.appendChild(c)}}
