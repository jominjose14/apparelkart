(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();const a="/api";function n(){const e=document.getElementById("loading-overlay");e&&e.classList.toggle("hidden")}async function l(){try{n();const e=await fetch(`${a}/products`);if(!e.ok)throw new Error("Something went wrong");const o=await e.json();return n(),o.payload}catch(e){return console.error("Failed to fetch all products",e),n(),null}}async function u(e){try{n();const o=await fetch(`${a}/product/${e}`);if(!o.ok)throw new Error("Something went wrong");const c=await o.json();return n(),c.payload}catch(o){return console.error(`Failed to fetch product with asin code ${e}`,o),n(),null}}function f(){return window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1}function d(){const e=document.getElementById("favicon");e&&(f()?e.href="/favicon-light.svg":e.href="/favicon-dark.svg")}export{u as a,l as g,d as s};
